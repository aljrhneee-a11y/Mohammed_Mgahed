# سيناريو وتقرير مشروع نظام إدارة الدورات التدريبية

## 1. فكرة المشروع وآلية عمله

**اسم المشروع:** نظام إدارة الدورات التدريبية (Course Management System)

**فكرة المشروع:** يهدف النظام إلى توفير منصة متكاملة لإدارة الدورات التدريبية وتسجيل بيانات المشاركين فيها بشكل منظم وموثوق. يحل النظام مشكلة التتبع اليدوي لبيانات الدورات والمشاركين، ويوفر واجهة إدارية للمسؤولين لإضافة الدورات، تسجيل المشاركين، وتعديل بياناتهم، بالإضافة إلى تصدير البيانات.

**آلية العمل والخطوات الأساسية:**

1.  **تسجيل الدخول والصلاحيات:**
    *   يجب على المستخدم تسجيل الدخول للوصول إلى النظام.
    *   يتم التحقق من صلاحية المستخدم (مسؤول/مستخدم عادي).
    *   المسؤولون فقط هم من يمكنهم إضافة مستخدمين جدد وحذف الدورات بالكامل.
2.  **إدارة الدورات (Course):**
    *   يمكن للمستخدمين المسجلين (بصلاحية مسؤول أو عادي) إنشاء دورات جديدة.
    *   يتم عرض قائمة بالدورات المتاحة في الصفحة الرئيسية.
    *   كل دورة مرتبطة بالمستخدم الذي أنشأها.
3.  **إدارة المشاركين (Participant):**
    *   يتم ربط كل مشارك بدورة تدريبية محددة.
    *   يمكن للمستخدمين إضافة مشارك جديد إلى أي دورة.
    *   تُعرض قائمة المشاركين في كل دورة في صفحة عرض خاصة (List Page).
    *   يمكن تعديل وحذف بيانات أي مشارك من خلال واجهة النظام.
4.  **تصدير البيانات:**
    *   يتم توفير خيار للمسؤولين لتصدير بيانات المشاركين في دورة معينة إلى ملف CSV أو Excel لغرض التحليل والتوثيق.

## 2. هيكل قاعدة البيانات والعلاقات (ER Diagram)

يعتمد النظام على أربعة جداول أساسية لضمان تلبية متطلبات التكليف:

| الجدول | الوصف | العلاقات |
| :--- | :--- | :--- |
| **User** | جدول المستخدمين الأساسي (مدمج في Django). | One-to-One مع `UserProfile`، One-to-Many مع `Course` (Created By)، One-to-Many مع `Participant` (Entered By). |
| **UserProfile** | لتخزين الصلاحيات المخصصة (Role: Admin/User). | One-to-One مع `User`. |
| **Course** | لتخزين بيانات الدورات التدريبية. | One-to-Many مع `User` (Created By)، One-to-Many مع `Participant`. |
| **Participant** | لتخزين بيانات المشاركين في الدورات. | Many-to-One مع `Course`، Many-to-One مع `User` (Entered By). |

**العلاقات:**
*   **User 1 : 1 UserProfile**
*   **User 1 : M Course** (المستخدم ينشئ عدة دورات)
*   **User 1 : M Participant** (المستخدم يدخل بيانات عدة مشاركين)
*   **Course 1 : M Participant** (الدورة الواحدة تضم عدة مشاركين)

## 3. خطوات العمل الأساسية (المراحل المنجزة)

1.  **النماذج (Models):** تم إنشاء النماذج الأربعة مع تحديد العلاقات (ForeignKey, OneToOne).
2.  **المسارات (URLs):** تم تحديد مسارات واضحة ومنطقية لجميع عمليات CRUD لكل من `Course` و `Participant`.
3.  **الواجهات (Templates):** تم تصميم قوالب HTML أساسية لصفحات الإضافة، التعديل، العرض، وتسجيل الدخول والخروج.
4.  **الصلاحيات:** تم وضع الأساس للتحقق من الصلاحيات في القوالب (مثل إظهار زر الحذف للمسؤول فقط).

**النقاط التي تتطلب الإكمال (كما سيتم في هذا التعديل):**
*   تطبيق منطق CRUD الفعلي في `views.py`.
*   تطبيق حماية الصلاحيات على مستوى الخادم (Server-Side Authorization).
*   تعديل حقل ID المشارك ليتوافق مع تنسيق رقم القيد الجامعي.
